(()=>{"use strict";function e(e,t){const n=Object.create(null),a=e.split(",");for(let e=0;e<a.length;e++)n[a[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}!function(){if("object"==typeof globalThis)return globalThis;try{this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();const t=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl"),n=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function a(e){if(b(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=a(C(s)?i(s):s);if(o)for(const e in o)t[e]=o[e]}return t}if(x(e))return e}const s=/;(?![^(]*\))/g,o=/:(.+)/;function i(e){const t={};return e.split(s).forEach((e=>{if(e){const n=e.split(o);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function r(e){let t="";if(C(e))t=e;else if(b(e))for(let n=0;n<e.length;n++)t+=r(e[n])+" ";else if(x(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function l(e,t){if(e===t)return!0;let n=_(e),a=_(t);if(n||a)return!(!n||!a)&&e.getTime()===t.getTime();if(n=b(e),a=b(t),n||a)return!(!n||!a)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=l(e[a],t[a]);return n}(e,t);if(n=x(e),a=x(t),n||a){if(!n||!a)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const a=e.hasOwnProperty(n),s=t.hasOwnProperty(n);if(a&&!s||!a&&s||!l(e[n],t[n]))return!1}}return String(e)===String(t)}function c(e,t){return e.findIndex((e=>l(e,t)))}const d=e=>null==e?"":x(e)?JSON.stringify(e,u,2):String(e),u=(e,t)=>k(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:P(t)?{[`Set(${t.size})`]:[...t.values()]}:!x(t)||b(t)||E(t)?t:String(t),h={},m=[],g=()=>{},p=/^on[^a-z]/,v=e=>p.test(e),f=Object.assign,w=Object.prototype.hasOwnProperty,y=(e,t)=>w.call(e,t),b=Array.isArray,k=e=>"[object Map]"===H(e),P=e=>"[object Set]"===H(e),_=e=>e instanceof Date,T=e=>"function"==typeof e,C=e=>"string"==typeof e,S=e=>"symbol"==typeof e,x=e=>null!==e&&"object"==typeof e,O=Object.prototype.toString,H=e=>O.call(e),E=e=>"[object Object]"===H(e),N=e=>C(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,A=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},I=/-(\w)/g,D=A((e=>e.replace(I,((e,t)=>t?t.toUpperCase():"")))),j=/\B([A-Z])/g,L=A((e=>e.replace(j,"-$1").toLowerCase())),U=A((e=>e.charAt(0).toUpperCase()+e.slice(1))),V=(A((e=>e?`on${U(e)}`:"")),(e,t)=>e!==t&&(e==e||t==t)),R=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},F=e=>{const t=parseFloat(e);return isNaN(t)?e:t},B=new WeakMap,M=[];let K;const W=Symbol(""),z=Symbol("");function J(e,t=h){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!M.includes(n)){Y(n);try{return Q.push(Z),Z=!0,M.push(n),K=n,e()}finally{M.pop(),ee(),K=M[M.length-1]}}};return n.id=G++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}function q(e){e.active&&(Y(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let G=0;function Y(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Z=!0;const Q=[];function X(){Q.push(Z),Z=!1}function ee(){const e=Q.pop();Z=void 0===e||e}function te(e,t,n){if(!Z||void 0===K)return;let a=B.get(e);a||B.set(e,a=new Map);let s=a.get(n);s||a.set(n,s=new Set),s.has(K)||(s.add(K),K.deps.push(s))}function ne(e,t,n,a,s,o){const i=B.get(e);if(!i)return;const r=new Set,l=e=>{e&&e.forEach((e=>{(e!==K||e.allowRecurse)&&r.add(e)}))};if("clear"===t)i.forEach(l);else if("length"===n&&b(e))i.forEach(((e,t)=>{("length"===t||t>=a)&&l(e)}));else switch(void 0!==n&&l(i.get(n)),t){case"add":b(e)?N(n)&&l(i.get("length")):(l(i.get(W)),k(e)&&l(i.get(z)));break;case"delete":b(e)||(l(i.get(W)),k(e)&&l(i.get(z)));break;case"set":k(e)&&l(i.get(W))}r.forEach((e=>{e.options.scheduler?e.options.scheduler(e):e()}))}const ae=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(S)),se=ce(),oe=ce(!1,!0),ie=ce(!0),re=ce(!0,!0),le={};function ce(e=!1,t=!1){return function(n,a,s){if("__v_isReactive"===a)return!e;if("__v_isReadonly"===a)return e;if("__v_raw"===a&&s===(e?Ie:Ae).get(n))return n;const o=b(n);if(!e&&o&&y(le,a))return Reflect.get(le,a,s);const i=Reflect.get(n,a,s);return(S(a)?ae.has(a):"__proto__"===a||"__v_isRef"===a)?i:(e||te(n,0,a),t?i:Be(i)?o&&N(a)?i:i.value:x(i)?e?je(i):De(i):i)}}function de(e=!1){return function(t,n,a,s){const o=t[n];if(!e&&(a=Fe(a),!b(t)&&Be(o)&&!Be(a)))return o.value=a,!0;const i=b(t)&&N(n)?Number(n)<t.length:y(t,n),r=Reflect.set(t,n,a,s);return t===Fe(s)&&(i?V(a,o)&&ne(t,"set",n,a):ne(t,"add",n,a)),r}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];le[e]=function(...e){const n=Fe(this);for(let e=0,t=this.length;e<t;e++)te(n,0,e+"");const a=t.apply(n,e);return-1===a||!1===a?t.apply(n,e.map(Fe)):a}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];le[e]=function(...e){X();const n=t.apply(this,e);return ee(),n}}));const ue={get:se,set:de(),deleteProperty:function(e,t){const n=y(e,t),a=(e[t],Reflect.deleteProperty(e,t));return a&&n&&ne(e,"delete",t,void 0),a},has:function(e,t){const n=Reflect.has(e,t);return S(t)&&ae.has(t)||te(e,0,t),n},ownKeys:function(e){return te(e,0,b(e)?"length":W),Reflect.ownKeys(e)}},he={get:ie,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},me=(f({},ue,{get:oe,set:de(!0)}),f({},he,{get:re}),e=>x(e)?De(e):e),ge=e=>x(e)?je(e):e,pe=e=>e,ve=e=>Reflect.getPrototypeOf(e);function fe(e,t,n=!1,a=!1){const s=Fe(e=e.__v_raw),o=Fe(t);t!==o&&!n&&te(s,0,t),!n&&te(s,0,o);const{has:i}=ve(s),r=n?ge:a?pe:me;return i.call(s,t)?r(e.get(t)):i.call(s,o)?r(e.get(o)):void 0}function we(e,t=!1){const n=this.__v_raw,a=Fe(n),s=Fe(e);return e!==s&&!t&&te(a,0,e),!t&&te(a,0,s),e===s?n.has(e):n.has(e)||n.has(s)}function ye(e,t=!1){return e=e.__v_raw,!t&&te(Fe(e),0,W),Reflect.get(e,"size",e)}function be(e){e=Fe(e);const t=Fe(this),n=ve(t).has.call(t,e);return t.add(e),n||ne(t,"add",e,e),this}function ke(e,t){t=Fe(t);const n=Fe(this),{has:a,get:s}=ve(n);let o=a.call(n,e);o||(e=Fe(e),o=a.call(n,e));const i=s.call(n,e);return n.set(e,t),o?V(t,i)&&ne(n,"set",e,t):ne(n,"add",e,t),this}function Pe(e){const t=Fe(this),{has:n,get:a}=ve(t);let s=n.call(t,e);s||(e=Fe(e),s=n.call(t,e)),a&&a.call(t,e);const o=t.delete(e);return s&&ne(t,"delete",e,void 0),o}function _e(){const e=Fe(this),t=0!==e.size,n=e.clear();return t&&ne(e,"clear",void 0,void 0),n}function Te(e,t){return function(n,a){const s=this,o=s.__v_raw,i=Fe(o),r=e?ge:t?pe:me;return!e&&te(i,0,W),o.forEach(((e,t)=>n.call(a,r(e),r(t),s)))}}function Ce(e,t,n){return function(...a){const s=this.__v_raw,o=Fe(s),i=k(o),r="entries"===e||e===Symbol.iterator&&i,l="keys"===e&&i,c=s[e](...a),d=t?ge:n?pe:me;return!t&&te(o,0,l?z:W),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:r?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function Se(e){return function(...t){return"delete"!==e&&this}}const $e={get(e){return fe(this,e)},get size(){return ye(this)},has:we,add:be,set:ke,delete:Pe,clear:_e,forEach:Te(!1,!1)},xe={get(e){return fe(this,e,!1,!0)},get size(){return ye(this)},has:we,add:be,set:ke,delete:Pe,clear:_e,forEach:Te(!1,!0)},Oe={get(e){return fe(this,e,!0)},get size(){return ye(this,!0)},has(e){return we.call(this,e,!0)},add:Se("add"),set:Se("set"),delete:Se("delete"),clear:Se("clear"),forEach:Te(!0,!1)};function He(e,t){const n=t?xe:e?Oe:$e;return(t,a,s)=>"__v_isReactive"===a?!e:"__v_isReadonly"===a?e:"__v_raw"===a?t:Reflect.get(y(n,a)&&a in t?n:t,a,s)}["keys","values","entries",Symbol.iterator].forEach((e=>{$e[e]=Ce(e,!1,!1),Oe[e]=Ce(e,!0,!1),xe[e]=Ce(e,!1,!0)}));const Ee={get:He(!1,!1)},Ne=(He(!1,!0),{get:He(!0,!1)}),Ae=new WeakMap,Ie=new WeakMap;function De(e){return e&&e.__v_isReadonly?e:Le(e,!1,ue,Ee)}function je(e){return Le(e,!0,he,Ne)}function Le(e,t,n,a){if(!x(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=t?Ie:Ae,o=s.get(e);if(o)return o;const i=(r=e).__v_skip||!Object.isExtensible(r)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>H(e).slice(8,-1))(r));var r;if(0===i)return e;const l=new Proxy(e,2===i?a:n);return s.set(e,l),l}function Ue(e){return Ve(e)?Ue(e.__v_raw):!(!e||!e.__v_isReactive)}function Ve(e){return!(!e||!e.__v_isReadonly)}function Re(e){return Ue(e)||Ve(e)}function Fe(e){return e&&Fe(e.__v_raw)||e}function Be(e){return Boolean(e&&!0===e.__v_isRef)}function Me(e,t,n,a){let s;try{s=a?e(...a):e()}catch(e){We(e,t,n)}return s}function Ke(e,t,n,a){if(T(e)){const o=Me(e,t,n,a);return o&&x(s=o)&&T(s.then)&&T(s.catch)&&o.catch((e=>{We(e,t,n)})),o}var s;const o=[];for(let s=0;s<e.length;s++)o.push(Ke(e[s],t,n,a));return o}function We(e,t,n,a=!0){if(t&&t.vnode,t){let a=t.parent;const s=t.proxy,o=n;for(;a;){const t=a.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,s,o))return;a=a.parent}const i=t.appContext.config.errorHandler;if(i)return void Me(i,null,10,[e,s,o])}!function(e,t,n,a=!0){console.error(e)}(e,0,0,a)}let ze=!1,Je=!1;const qe=[];let Ge=0;const Ye=[];let Ze=null,Qe=0;const Xe=[];let et=null,tt=0;const nt=Promise.resolve();let at=null,st=null;function ot(e){const t=at||nt;return e?t.then(this?e.bind(this):e):t}function it(){ze||Je||(Je=!0,at=nt.then(dt))}function rt(e,t,n,a){b(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?a+1:a)||n.push(e),it()}function lt(e,t=null){if(Ye.length){for(st=t,Ze=[...new Set(Ye)],Ye.length=0,Qe=0;Qe<Ze.length;Qe++)Ze[Qe]();Ze=null,Qe=0,st=null,lt(e,t)}}const ct=e=>null==e.id?1/0:e.id;function dt(e){Je=!1,ze=!0,lt(e),qe.sort(((e,t)=>ct(e)-ct(t)));try{for(Ge=0;Ge<qe.length;Ge++){const e=qe[Ge];e&&Me(e,null,14)}}finally{Ge=0,qe.length=0,function(e){if(Xe.length){const e=[...new Set(Xe)];if(Xe.length=0,et)return void et.push(...e);for(et=e,et.sort(((e,t)=>ct(e)-ct(t))),tt=0;tt<et.length;tt++)et[tt]();et=null,tt=0}}(),ze=!1,at=null,(qe.length||Xe.length)&&dt(e)}}new Set,new Map;let ut=null;function ht(e){ut=e}function mt(e){return T(e)&&(e=e()),b(e)&&(e=function(e){let t;for(let n=0;n<e.length;n++){const a=e[n];if(!on(a))return;if(a.type!==Xt||"v-if"===a.children){if(t)return;t=a}}return t}(e)),pn(e)}let gt=0;const pt=e=>gt+=e;let vt=null;const ft=[];function wt(e){ft.push(vt=e)}function yt(){ft.pop(),vt=ft[ft.length-1]||null}function bt(e){return t=>function(e,t=ut){if(!t)return e;const n=(...n)=>{gt||nn(!0);const a=ut;ht(t);const s=e(...n);return ht(a),gt||an(),s};return n._c=!0,n}((function(){wt(e);const n=t.apply(this,arguments);return yt(),n}))}const kt=e=>(t,n=kn)=>!Tn&&function(e,t,n=kn,a=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;X(),_n(n);const s=Ke(t,n,e,a);return _n(null),ee(),s});return a?s.unshift(o):s.push(o),o}}(e,t,n),Pt=(kt("bm"),kt("m")),_t=(kt("bu"),kt("u")),Tt=kt("bum");kt("um"),kt("rtg"),kt("rtc");const Ct={};function St(e,t,{immediate:n,deep:a,flush:s,onTrack:o,onTrigger:i}=h,r=kn){let l,c,d=!1;if(Be(e)?(l=()=>e.value,d=!!e._shallow):Ue(e)?(l=()=>e,a=!0):l=b(e)?()=>e.map((e=>Be(e)?e.value:Ue(e)?xt(e):T(e)?Me(e,r,2):void 0)):T(e)?t?()=>Me(e,r,2):()=>{if(!r||!r.isUnmounted)return c&&c(),Me(e,r,3,[u])}:g,t&&a){const e=l;l=()=>xt(e())}const u=e=>{c=f.options.onStop=()=>{Me(e,r,4)}};let m=b(e)?[]:Ct;const p=()=>{if(f.active)if(t){const e=f();(a||d||V(e,m))&&(c&&c(),Ke(t,r,3,[e,m===Ct?void 0:m,u]),m=e)}else f()};let v;p.allowRecurse=!!t,v="sync"===s?p:"post"===s?()=>Mt(p,r&&r.suspense):()=>{!r||r.isMounted?function(e){rt(e,Ze,Ye,Qe)}(p):p()};const f=J(l,{lazy:!0,onTrack:o,onTrigger:i,scheduler:v});return function(e,t=kn){t&&(t.effects||(t.effects=[])).push(e)}(f,r),t?n?p():m=f():"post"===s?Mt(f,r&&r.suspense):f(),()=>{q(f),r&&((e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)})(r.effects,f)}}function $t(e,t,n){const a=this.proxy;return St(C(e)?()=>a[e]:e.bind(a),t.bind(a),n,this)}function xt(e,t=new Set){if(!x(e)||t.has(e))return e;if(t.add(e),Be(e))xt(e.value,t);else if(b(e))for(let n=0;n<e.length;n++)xt(e[n],t);else if(P(e)||k(e))e.forEach((e=>{xt(e,t)}));else for(const n in e)xt(e[n],t);return e}const Ot=[Function,Array],Ht={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ot,onEnter:Ot,onAfterEnter:Ot,onEnterCancelled:Ot,onBeforeLeave:Ot,onLeave:Ot,onAfterLeave:Ot,onLeaveCancelled:Ot,onBeforeAppear:Ot,onAppear:Ot,onAfterAppear:Ot,onAppearCancelled:Ot},setup(e,{slots:t}){const n=Pn(),a=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pt((()=>{e.isMounted=!0})),Tt((()=>{e.isUnmounting=!0})),e}();let s;return()=>{const o=t.default&&jt(t.default(),!0);if(!o||!o.length)return;const i=Fe(e),{mode:r}=i,l=o[0];if(a.isLeaving)return At(l);const c=It(l);if(!c)return At(l);const d=Nt(c,i,a,n);Dt(c,d);const u=n.subTree,h=u&&It(u);let m=!1;const{getTransitionKey:g}=c.type;if(g){const e=g();void 0===s?s=e:e!==s&&(s=e,m=!0)}if(h&&h.type!==Xt&&(!rn(c,h)||m)){const e=Nt(h,i,a,n);if(Dt(h,e),"out-in"===r)return a.isLeaving=!0,e.afterLeave=()=>{a.isLeaving=!1,n.update()},At(l);"in-out"===r&&(e.delayLeave=(e,t,n)=>{Et(a,h)[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return l}}};function Et(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function Nt(e,t,n,a){const{appear:s,mode:o,persisted:i=!1,onBeforeEnter:r,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:u,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:p,onAppear:v,onAfterAppear:f,onAppearCancelled:w}=t,y=String(e.key),b=Et(n,e),k=(e,t)=>{e&&Ke(e,a,9,t)},P={mode:o,persisted:i,beforeEnter(t){let a=r;if(!n.isMounted){if(!s)return;a=p||r}t._leaveCb&&t._leaveCb(!0);const o=b[y];o&&rn(e,o)&&o.el._leaveCb&&o.el._leaveCb(),k(a,[t])},enter(e){let t=l,a=c,o=d;if(!n.isMounted){if(!s)return;t=v||l,a=f||c,o=w||d}let i=!1;const r=e._enterCb=t=>{i||(i=!0,k(t?o:a,[e]),P.delayedLeave&&P.delayedLeave(),e._enterCb=void 0)};t?(t(e,r),t.length<=1&&r()):r()},leave(t,a){const s=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return a();k(u,[t]);let o=!1;const i=t._leaveCb=n=>{o||(o=!0,a(),k(n?g:m,[t]),t._leaveCb=void 0,b[s]===e&&delete b[s])};b[s]=e,h?(h(t,i),h.length<=1&&i()):i()},clone:e=>Nt(e,t,n,a)};return P}function At(e){if(Lt(e))return(e=hn(e)).children=null,e}function It(e){return Lt(e)?e.children?e.children[0]:void 0:e}function Dt(e,t){6&e.shapeFlag&&e.component?Dt(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function jt(e,t=!1){let n=[],a=0;for(let s=0;s<e.length;s++){const o=e[s];o.type===Zt?(128&o.patchFlag&&a++,n=n.concat(jt(o.children,t))):(t||o.type!==Xt)&&n.push(o)}if(a>1)for(let e=0;e<n.length;e++)n[e].patchFlag=-2;return n}const Lt=e=>e.type.__isKeepAlive,Ut={name:"KeepAlive",__isKeepAlive:!0,inheritRef:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=new Map,a=new Set;let s=null;const o=Pn(),i=o.suspense,r=o.ctx,{renderer:{p:l,m:c,um:d,o:{createElement:u}}}=r,h=u("div");function m(e){Rt(e),d(e,o,i)}function g(e){n.forEach(((t,n)=>{const a=Cn(t.type);!a||e&&e(a)||p(n)}))}function p(e){const t=n.get(e);s&&t.type===s.type?s&&Rt(s):m(t),n.delete(e),a.delete(e)}r.activate=(e,t,n,a,s)=>{const o=e.component;c(e,t,n,0,i),l(o.vnode,e,t,n,o,i,a,s),Mt((()=>{o.isDeactivated=!1,o.a&&R(o.a);const t=e.props&&e.props.onVnodeMounted;t&&Kt(t,o.parent,e)}),i)},r.deactivate=e=>{const t=e.component;c(e,h,null,1,i),Mt((()=>{t.da&&R(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Kt(n,t.parent,e),t.isDeactivated=!0}),i)},St((()=>[e.include,e.exclude]),(([e,t])=>{e&&g((t=>Vt(e,t))),t&&g((e=>!Vt(t,e)))}),{flush:"post",deep:!0});let v=null;const f=()=>{null!=v&&n.set(v,Ft(o.subTree))};return Pt(f),_t(f),Tt((()=>{n.forEach((e=>{const{subTree:t,suspense:n}=o,a=Ft(t);if(e.type!==a.type)m(e);else{Rt(a);const e=a.component.da;e&&Mt(e,n)}}))})),()=>{if(v=null,!t.default)return null;const o=t.default(),i=o[0];if(o.length>1)return s=null,o;if(!on(i)||!(4&i.shapeFlag||128&i.shapeFlag))return s=null,i;let r=Ft(i);const l=r.type,c=Cn(l),{include:d,exclude:u,max:h}=e;if(d&&(!c||!Vt(d,c))||u&&c&&Vt(u,c))return s=r,i;const m=null==r.key?l:r.key,g=n.get(m);return r.el&&(r=hn(r),128&i.shapeFlag&&(i.ssContent=r)),v=m,g?(r.el=g.el,r.component=g.component,r.transition&&Dt(r,r.transition),r.shapeFlag|=512,a.delete(m),a.add(m)):(a.add(m),h&&a.size>parseInt(h,10)&&p(a.values().next().value)),r.shapeFlag|=256,s=r,i}}};function Vt(e,t){return b(e)?e.some((e=>Vt(e,t))):C(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function Rt(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Ft(e){return 128&e.shapeFlag?e.ssContent:e}function Bt(e,t){if(null===ut)return e;const n=ut.proxy,a=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[s,o,i,r=h]=t[e];T(s)&&(s={mounted:s,updated:s}),a.push({dir:s,instance:n,value:o,oldValue:void 0,arg:i,modifiers:r})}return e}const Mt=function(e,t){t&&t.pendingBranch?b(e)?t.effects.push(...e):t.effects.push(e):rt(e,et,Xe,tt)};function Kt(e,t,n,a=null){Ke(e,t,7,[n,a])}const Wt="components";function zt(e){return Gt(Wt,e)||e}const Jt=Symbol();function qt(e){return C(e)?Gt(Wt,e,!1)||e:e||Jt}function Gt(e,t,n=!0){const a=ut||kn;if(a){const n=a.type;if(e===Wt){if("_self"===t)return n;const e=Cn(n);if(e&&(e===t||e===D(t)||e===U(D(t))))return n}return Yt(a[e]||n[e],t)||Yt(a.appContext[e],t)}}function Yt(e,t){return e&&(e[t]||e[D(t)]||e[U(D(t))])}const Zt=Symbol(void 0),Qt=Symbol(void 0),Xt=Symbol(void 0),en=(Symbol(void 0),[]);let tn=null;function nn(e=!1){en.push(tn=e?null:[])}function an(){en.pop(),tn=en[en.length-1]||null}function sn(e,t,n,a,s){const o=un(e,t,n,a,s,!0);return o.dynamicChildren=tn||m,an(),tn&&tn.push(o),o}function on(e){return!!e&&!0===e.__v_isVNode}function rn(e,t){return e.type===t.type&&e.key===t.key}const ln="__vInternal",cn=({key:e})=>null!=e?e:null,dn=({ref:e})=>null!=e?C(e)||Be(e)||T(e)?{i:ut,r:e}:e:null,un=function(e,t=null,n=null,s=0,o=null,i=!1){if(e&&e!==Jt||(e=Xt),on(e)){const a=hn(e,t,!0);return n&&vn(a,n),a}if(l=e,T(l)&&"__vccOpts"in l&&(e=e.__vccOpts),t){(Re(t)||ln in t)&&(t=f({},t));let{class:e,style:n}=t;e&&!C(e)&&(t.class=r(e)),x(n)&&(Re(n)&&!b(n)&&(n=f({},n)),t.style=a(n))}var l;const c=C(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:x(e)?4:T(e)?2:0,d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&cn(t),ref:t&&dn(t),scopeId:vt,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null};if(vn(d,n),128&c){const{content:e,fallback:t}=function(e){const{shapeFlag:t,children:n}=e;let a,s;return 32&t?(a=mt(n.default),s=mt(n.fallback)):(a=mt(n),s=pn(null)),{content:a,fallback:s}}(d);d.ssContent=e,d.ssFallback=t}return!i&&tn&&(s>0||6&c)&&32!==s&&tn.push(d),d};function hn(e,t,n=!1){const{props:s,ref:o,patchFlag:i}=e,l=t?function(...e){const t=f({},e[0]);for(let n=1;n<e.length;n++){const s=e[n];for(const e in s)if("class"===e)t.class!==s.class&&(t.class=r([t.class,s.class]));else if("style"===e)t.style=a([t.style,s.style]);else if(v(e)){const n=t[e],a=s[e];n!==a&&(t[e]=n?[].concat(n,s[e]):a)}else""!==e&&(t[e]=s[e])}return t}(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&cn(l),ref:t&&t.ref?n&&o?b(o)?o.concat(dn(t)):[o,dn(t)]:dn(t):o,scopeId:e.scopeId,children:e.children,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Zt?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hn(e.ssContent),ssFallback:e.ssFallback&&hn(e.ssFallback),el:e.el,anchor:e.anchor}}function mn(e=" ",t=0){return un(Qt,null,e,t)}function gn(e="",t=!1){return t?(nn(),sn(Xt,null,e)):un(Xt,null,e)}function pn(e){return null==e||"boolean"==typeof e?un(Xt):b(e)?un(Zt,null,e):"object"==typeof e?null===e.el?e:hn(e):un(Qt,null,String(e))}function vn(e,t){let n=0;const{shapeFlag:a}=e;if(null==t)t=null;else if(b(t))n=16;else if("object"==typeof t){if(1&a||64&a){const n=t.default;return void(n&&(n._c&&pt(1),vn(e,n()),n._c&&pt(-1)))}{n=32;const a=t._;a||ln in t?3===a&&ut&&(1024&ut.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=ut}}else T(t)?(t={default:t,_ctx:ut},n=32):(t=String(t),64&a?(n=16,t=[mn(t)]):n=8);e.children=t,e.shapeFlag|=n}function fn(e,t,n){const a=n.appContext.config.optionMergeStrategies,{mixins:s,extends:o}=t;o&&fn(e,o,n),s&&s.forEach((t=>fn(e,t,n)));for(const s in t)a&&y(a,s)?e[s]=a[s](e[s],t[s],n.proxy,s):e[s]=t[s]}const wn=e=>e&&(e.proxy?e.proxy:wn(e.parent)),yn=f(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wn(e.parent),$root:e=>e.root&&e.root.proxy,$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?function(e){const t=e.type,{__merged:n,mixins:a,extends:s}=t;if(n)return n;const o=e.appContext.mixins;if(!o.length&&!a&&!s)return t;const i={};return o.forEach((t=>fn(i,t,e))),fn(i,t,e),t.__merged=i}(e):e.type,$forceUpdate:e=>()=>{return t=e.update,void(qe.length&&qe.includes(t,ze&&t.allowRecurse?Ge+1:Ge)||t===st||(qe.push(t),it()));var t},$nextTick:e=>ot.bind(e.proxy),$watch:e=>__VUE_OPTIONS_API__?$t.bind(e):g}),bn={get({_:e},t){const{ctx:n,setupState:a,data:s,props:o,accessCache:i,type:r,appContext:l}=e;if("__v_skip"===t)return!0;let c;if("$"!==t[0]){const r=i[t];if(void 0!==r)switch(r){case 0:return a[t];case 1:return s[t];case 3:return n[t];case 2:return o[t]}else{if(a!==h&&y(a,t))return i[t]=0,a[t];if(s!==h&&y(s,t))return i[t]=1,s[t];if((c=e.propsOptions[0])&&y(c,t))return i[t]=2,o[t];if(n!==h&&y(n,t))return i[t]=3,n[t];__VUE_OPTIONS_API__,i[t]=4}}const d=yn[t];let u,m;return d?("$attrs"===t&&te(e,0,t),d(e)):(u=r.__cssModules)&&(u=u[t])?u:n!==h&&y(n,t)?(i[t]=3,n[t]):(m=l.config.globalProperties,y(m,t)?m[t]:void 0)},set({_:e},t,n){const{data:a,setupState:s,ctx:o}=e;if(s!==h&&y(s,t))s[t]=n;else if(a!==h&&y(a,t))a[t]=n;else if(t in e.props)return!1;return!("$"===t[0]&&t.slice(1)in e||(o[t]=n,0))},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:s,propsOptions:o}},i){let r;return void 0!==n[i]||e!==h&&y(e,i)||t!==h&&y(t,i)||(r=o[0])&&y(r,i)||y(a,i)||y(yn,i)||y(s.config.globalProperties,i)}};f({},bn,{get(e,t){if(t!==Symbol.unscopables)return bn.get(e,t,e)},has:(e,n)=>"_"!==n[0]&&!t(n)}),Object.create(null);let kn=null;const Pn=()=>kn||ut,_n=e=>{kn=e};let Tn=!1;function Cn(e){return T(e)&&e.displayName||e.name}function Sn(e,t){let n;if(b(e)||C(e)){n=new Array(e.length);for(let a=0,s=e.length;a<s;a++)n[a]=t(e[a],a)}else if("number"==typeof e){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a)}else if(x(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const a=Object.keys(e);n=new Array(a.length);for(let s=0,o=a.length;s<o;s++){const o=a[s];n[s]=t(e[o],o,s)}}else n=[];return n}Symbol("");const $n="http://www.w3.org/2000/svg",xn="undefined"!=typeof document?document:null;let On,Hn;const En={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n)=>t?xn.createElementNS($n,e):xn.createElement(e,n?{is:n}:void 0),createText:e=>xn.createTextNode(e),createComment:e=>xn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode:e=>e.cloneNode(!0),insertStaticContent(e,t,n,a){const s=a?Hn||(Hn=xn.createElementNS($n,"svg")):On||(On=xn.createElement("div"));s.innerHTML=e;const o=s.firstChild;let i=o,r=i;for(;i;)r=i,En.insert(i,t,n),i=s.firstChild;return[o,r]}},Nn=/\s*!important$/;function An(e,t,n){if(b(n))n.forEach((n=>An(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const a=function(e,t){const n=Dn[t];if(n)return n;let a=D(t);if("filter"!==a&&a in e)return Dn[t]=a;a=U(a);for(let n=0;n<In.length;n++){const s=In[n]+a;if(s in e)return Dn[t]=s}return t}(e,t);Nn.test(n)?e.setProperty(L(a),n.replace(Nn,""),"important"):e[a]=n}}const In=["Webkit","Moz","ms"],Dn={},jn="http://www.w3.org/1999/xlink";let Ln=Date.now;"undefined"!=typeof document&&Ln()>document.createEvent("Event").timeStamp&&(Ln=()=>performance.now());let Un=0;const Vn=Promise.resolve(),Rn=()=>{Un=0};function Fn(e,t,n,a){e.addEventListener(t,n,a)}const Bn=/(?:Once|Passive|Capture)$/,Mn=/^on[a-z]/,Kn="transition",Wn="animation",zn=(e,{slots:t})=>function(e,t,n){const a=arguments.length;return 2===a?x(t)&&!b(t)?on(t)?un(e,null,[t]):un(e,t):un(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):3===a&&on(n)&&(n=[n]),un(e,t,n))}(Ht,function(e){let{name:t="v",type:n,css:a=!0,duration:s,enterFromClass:o=`${t}-enter-from`,enterActiveClass:i=`${t}-enter-active`,enterToClass:r=`${t}-enter-to`,appearFromClass:l=o,appearActiveClass:c=i,appearToClass:d=r,leaveFromClass:u=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:m=`${t}-leave-to`}=e;const g={};for(const t in e)t in Jn||(g[t]=e[t]);if(!a)return g;const p=function(e){if(null==e)return null;if(x(e))return[qn(e.enter),qn(e.leave)];{const t=qn(e);return[t,t]}}(s),v=p&&p[0],w=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:k,onLeave:P,onLeaveCancelled:_,onBeforeAppear:T=y,onAppear:C=b,onAppearCancelled:S=k}=g,$=(e,t,n)=>{Yn(e,t?d:r),Yn(e,t?c:i),n&&n()},O=(e,t)=>{Yn(e,m),Yn(e,h),t&&t()},H=e=>(t,a)=>{const s=e?C:b,i=()=>$(t,e,a);s&&s(t,i),Zn((()=>{Yn(t,e?l:o),Gn(t,e?d:r),s&&s.length>1||Xn(t,n,v,i)}))};return f(g,{onBeforeEnter(e){y&&y(e),Gn(e,o),Gn(e,i)},onBeforeAppear(e){T&&T(e),Gn(e,l),Gn(e,c)},onEnter:H(!1),onAppear:H(!0),onLeave(e,t){const a=()=>O(e,t);Gn(e,u),document.body.offsetHeight,Gn(e,h),Zn((()=>{Yn(e,u),Gn(e,m),P&&P.length>1||Xn(e,n,w,a)})),P&&P(e,a)},onEnterCancelled(e){$(e,!1),k&&k(e)},onAppearCancelled(e){$(e,!0),S&&S(e)},onLeaveCancelled(e){O(e),_&&_(e)}})}(e),t);zn.displayName="Transition";const Jn={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};function qn(e){return F(e)}function Gn(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Yn(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Zn(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}zn.props=f({},Ht.props,Jn);let Qn=0;function Xn(e,t,n,a){const s=e._endId=++Qn,o=()=>{s===e._endId&&a()};if(n)return setTimeout(o,n);const{type:i,timeout:r,propCount:l}=function(e,t){const n=window.getComputedStyle(e),a=e=>(n[e]||"").split(", "),s=a("transitionDelay"),o=a("transitionDuration"),i=ea(s,o),r=a("animationDelay"),l=a("animationDuration"),c=ea(r,l);let d=null,u=0,h=0;return t===Kn?i>0&&(d=Kn,u=i,h=o.length):t===Wn?c>0&&(d=Wn,u=c,h=l.length):(u=Math.max(i,c),d=u>0?i>c?Kn:Wn:null,h=d?d===Kn?o.length:l.length:0),{type:d,timeout:u,propCount:h,hasTransform:d===Kn&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}(e,t);if(!i)return a();const c=i+"end";let d=0;const u=()=>{e.removeEventListener(c,h),o()},h=t=>{t.target===e&&++d>=l&&u()};setTimeout((()=>{d<l&&u()}),r+1),e.addEventListener(c,h)}function ea(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>ta(t)+ta(e[n]))))}function ta(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}new WeakMap,new WeakMap;const na=e=>{const t=e.props["onUpdate:modelValue"];return b(t)?e=>R(t,e):t};function aa(e){e.target.composing=!0}function sa(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent("input",!0,!0),e.dispatchEvent(n)}(t))}const oa={created(e,{modifiers:{lazy:t,trim:n,number:a}},s){e._assign=na(s);const o=a||"number"===e.type;Fn(e,t?"change":"input",(t=>{if(t.target.composing)return;let a=e.value;n?a=a.trim():o&&(a=F(a)),e._assign(a)})),n&&Fn(e,"change",(()=>{e.value=e.value.trim()})),t||(Fn(e,"compositionstart",aa),Fn(e,"compositionend",sa),Fn(e,"change",sa))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:n,number:a}},s){if(e._assign=na(s),e.composing)return;if(document.activeElement===e){if(n&&e.value.trim()===t)return;if((a||"number"===e.type)&&F(e.value)===t)return}const o=null==t?"":t;e.value!==o&&(e.value=o)}},ia={created(e,t,n){e._assign=na(n),Fn(e,"change",(()=>{const t=e._modelValue,n=da(e),a=e.checked,s=e._assign;if(b(t)){const e=c(t,n),o=-1!==e;if(a&&!o)s(t.concat(n));else if(!a&&o){const n=[...t];n.splice(e,1),s(n)}}else if(P(t)){const e=new Set(t);a?e.add(n):e.delete(n),s(e)}else s(ua(e,a))}))},mounted:ra,beforeUpdate(e,t,n){e._assign=na(n),ra(e,t,n)}};function ra(e,{value:t,oldValue:n},a){e._modelValue=t,b(t)?e.checked=c(t,a.props.value)>-1:P(t)?e.checked=t.has(a.props.value):t!==n&&(e.checked=l(t,ua(e,!0)))}const la={created(e,{value:t,modifiers:{number:n}},a){const s=P(t);Fn(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?F(da(e)):da(e)));e._assign(e.multiple?s?new Set(t):t:t[0])})),e._assign=na(a)},mounted(e,{value:t}){ca(e,t)},beforeUpdate(e,t,n){e._assign=na(n)},updated(e,{value:t}){ca(e,t)}};function ca(e,t){const n=e.multiple;if(!n||b(t)||P(t)){for(let a=0,s=e.options.length;a<s;a++){const s=e.options[a],o=da(s);if(n)b(t)?s.selected=c(t,o)>-1:s.selected=t.has(o);else if(l(da(s),t))return void(e.selectedIndex=a)}n||(e.selectedIndex=-1)}}function da(e){return"_value"in e?e._value:e.value}function ua(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ha={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ma={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ga(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){a&&t!==n?t?(a.beforeEnter(e),ga(e,!0),a.enter(e)):a.leave(e,(()=>{ga(e,!1)})):ga(e,t)},beforeUnmount(e,{value:t}){ga(e,t)}};function ga(e,t){e.style.display=t?e._vod:"none"}f({patchProp:(e,t,a,s,o=!1,i,r,l,c)=>{switch(t){case"class":!function(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}(e,s,o);break;case"style":!function(e,t,n){const a=e.style;if(n)if(C(n))t!==n&&(a.cssText=n);else{for(const e in n)An(a,e,n[e]);if(t&&!C(t))for(const e in t)null==n[e]&&An(a,e,"")}else e.removeAttribute("style")}(e,a,s);break;default:v(t)?(e=>e.startsWith("onUpdate:"))(t)||function(e,t,n,a,s=null){const o=e._vei||(e._vei={}),i=o[t];if(a&&i)i.value=a;else{const[n,r]=function(e){let t;if(Bn.test(e)){let n;for(t={};n=e.match(Bn);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e.slice(2).toLowerCase(),t]}(t);a?Fn(e,n,o[t]=function(e,t){const n=e=>{(e.timeStamp||Ln())>=n.attached-1&&Ke(function(e,t){if(b(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Un||(Vn.then(Rn),Un=Ln()),n}(a,s),r):i&&(function(e,t,n,a){e.removeEventListener(t,n,a)}(e,n,i,r),o[t]=void 0)}}(e,t,0,s,r):function(e,t,n,a){return a?"innerHTML"===t||!!(t in e&&Mn.test(t)&&T(n)):"spellcheck"!==t&&"draggable"!==t&&(("form"!==t||"string"!=typeof n)&&(("list"!==t||"INPUT"!==e.tagName)&&((!Mn.test(t)||!C(n))&&t in e)))}(e,t,s,o)?function(e,t,n,a,s,o,i){if("innerHTML"===t||"textContent"===t)return a&&i(a,s,o),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const a=typeof e[t];if(""===n&&"boolean"===a)return void(e[t]=!0);if(null==n&&"string"===a)return e[t]="",void e.removeAttribute(t);if("number"===a)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(e){}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}(e,t,s,i,r,l,c):("true-value"===t?e._trueValue=s:"false-value"===t&&(e._falseValue=s),function(e,t,a,s){if(s&&t.startsWith("xlink:"))null==a?e.removeAttributeNS(jn,t.slice(6,t.length)):e.setAttributeNS(jn,t,a);else{const s=n(t);null==a||s&&!1===a?e.removeAttribute(t):e.setAttribute(t,s?"":a)}}(e,t,s,o))}},forcePatchProp:(e,t)=>"value"===t},En);const pa=bt("data-v-e508c6a4");wt("data-v-e508c6a4");const va={class:"container-fluid"},fa={class:"row justify-content-between form-bg"},wa={class:"col-sm mr-auto"},ya={class:"col-sm-auto"},ba={class:"row"},ka={class:"col-sm p-0"},Pa={class:"col-sm pl-0"},_a={class:"row"},Ta={class:"col"},Ca={key:0,class:"alert alert-danger"},Sa=un("span",{"aria-hidden":"true"},"×",-1),$a={class:"row"},xa={class:"col"};yt();const Oa=pa(((e,t,n,a,s,o)=>{const i=zt("user-menu"),r=zt("language-selector");return nn(),sn("div",{class:{blur:null===s.tokenProvider.token}},[un("div",va,[un("div",fa,[un("div",wa,[un("button",{class:"btn btn-sm btn-outline-secondary",onClick:t[1]||(t[1]=e=>s.currentTab="mainTab")},d(s.language.data.mp1),1),s.tokenProvider.adminSettings?(nn(),sn("button",{key:0,class:"btn btn-sm btn-outline-danger",onClick:t[2]||(t[2]=e=>s.currentTab="adminSettings")},d(s.language.data.as1),1)):gn("v-if",!0),s.tokenProvider.adminSettings?(nn(),sn("button",{key:1,class:"btn btn-sm btn-outline-danger",onClick:t[3]||(t[3]=(...e)=>o.showTrash&&o.showTrash(...e)),title:s.language.data.di1},"🗑",8,["title"])):gn("v-if",!0)]),un("div",ya,[un("div",ba,[un("div",ka,[un(i,{onChangeTab:o.setTab},null,8,["onChangeTab"])]),un("div",Pa,[un(r)])])])]),un("div",_a,[un("div",Ta,[s.message?(nn(),sn("div",Ca,[mn(d(s.message)+" ",1),un("button",{class:"close",onClick:t[4]||(t[4]=e=>s.message="")},[Sa])])):gn("v-if",!0)])]),un("div",$a,[un("div",xa,[(nn(),sn(Ut,null,[(nn(),sn(qt(s.currentTab)))],1024))])])])],2)})),Ha=bt("data-v-f5304508");wt("data-v-f5304508");const Ea=un("option",{value:"en-US"},"En",-1),Na=un("option",{value:"uk-UA"},"Ua",-1);yt();const Aa=Ha(((e,t,n,a,s,o)=>(nn(),sn("div",null,[Bt(un("select",{class:"form-control-sm","onUpdate:modelValue":t[1]||(t[1]=e=>s.selectedLang=e),onChange:t[2]||(t[2]=(...e)=>o.setLang&&o.setLang(...e))},[Ea,Na],544),[[la,s.selectedLang]])])))),Ia={name:"languageSelector",data(){return{language:this.$root.$data.language,selectedLang:""}},methods:{setLang(){document.cookie="lang="+this.selectedLang+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; samesite=strict",this.$root.loadLanguage(this.selectedLang)}},watch:{"language.name"(e){this.selectedLang=e}}};Ia.render=Aa,Ia.__scopeId="data-v-f5304508";const Da=Ia,ja=bt("data-v-5af3a62e");wt("data-v-5af3a62e");const La={class:"dropdown"},Ua={class:"btn-sm btn-outline-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},Va={class:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton"};yt();const Ra=ja(((e,t,n,a,s,o)=>(nn(),sn("div",La,[un("button",Ua,d(s.tokenProvider.userName),1),un("div",Va,[un("a",{class:"dropdown-item",onClick:t[1]||(t[1]=t=>e.$emit("change-tab","userSettings"))},d(s.language.data.um1),1),un("a",{class:"dropdown-item",onClick:t[2]||(t[2]=(...e)=>o.logout&&o.logout(...e))},d(s.language.data.um2),1)])])))),Fa={name:"userMenu",data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider}},methods:{logout(){this.tokenProvider.logout()}}};Fa.render=Ra,Fa.__scopeId="data-v-5af3a62e";const Ba=Fa,Ma=bt("data-v-42d26568");wt("data-v-42d26568");const Ka={class:"row"},Wa={class:"col-md-auto bg-light p-0"},za={class:"col p-0"};yt();const Ja=Ma(((e,t,n,a,s,o)=>{const i=zt("tree-item"),r=zt("item-view"),l=zt("trash-view");return nn(),sn("div",null,[un("div",Ka,[un("div",Wa,[un("span",{onClick:t[1]||(t[1]=(...e)=>o.updateTree&&o.updateTree(...e)),style:{cursor:"pointer",position:"absolute"}},"↺"),un(i,{item:s.tree,"selected-item":s.selectedItem,onItemSelect:o.selectItem},null,8,["item","selected-item","onItemSelect"])]),un("div",za,[s.trash?gn("v-if",!0):(nn(),sn(r,{key:0,item:s.selectedItem},null,8,["item"])),s.trash?(nn(),sn(l,{key:1,item:s.selectedItem},null,8,["item"])):gn("v-if",!0)])])])})),qa=bt("data-v-ded029e6")(((e,t,n,a,s,o)=>{const i=zt("_self");return nn(),sn("ul",null,[un("li",{style:{"white-space":"nowrap"},draggable:"RW"===n.item.access&&"root"!==n.item.name,onDragover:t[3]||(t[3]=(...e)=>o.dragover&&o.dragover(...e)),onDragstart:t[4]||(t[4]=e=>o.startDrag(e,n.item)),onDrop:t[5]||(t[5]=e=>o.dropHandler(e,n.item))},[n.item.children&&n.item.children.length>0?(nn(),sn("span",{key:0,class:["caret",{"caret-down":s.isOpen}],onClick:t[1]||(t[1]=e=>s.isOpen=!s.isOpen)},null,2)):gn("v-if",!0),un("span",{class:["branch",{selected:n.item.id===n.selectedItem.id}],onClick:t[2]||(t[2]=t=>e.$emit("item-select",n.item))},d(n.item.name),3)],40,["draggable"]),Bt(un("li",null,[(nn(!0),sn(Zt,null,Sn(n.item.children,(a=>(nn(),sn(i,{item:a,"selected-item":n.selectedItem,onItemSelect:t[6]||(t[6]=t=>e.$emit("item-select",t)),key:"TREE"+a.id},null,8,["item","selected-item"])))),128))],512),[[ma,s.isOpen]])])})),Ga={name:"treeItem",props:{item:Object,selectedItem:Object},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,isOpen:!1}},watch:{item(){this.item.id===this.selectedItem.id&&this.$emit("item-select",this.item)}},methods:{dragover(e){"RW"===this.item.access&&e.dataTransfer.getData("id")!=this.item.id&&e.preventDefault()},startDrag(e,t){e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("id",t.id),e.dataTransfer.setData("name",t.name)},async dropHandler(e,t){if(this.eventHub.emit("show-msg",""),confirm(this.language.data.cf1+' "'+e.dataTransfer.getData("name")+'" '+this.language.data.cf2+' "'+t.name+'" ?'))try{const n=await this.tokenProvider.getToken(),a=await this.cryptoProvider.encrypt({token:n,item:e.dataTransfer.getData("id"),moveTo:t.id}),s=await $.ajax({url:"/container/move",method:"POST",data:a}),o=this.cryptoProvider.decrypt(s);o.message?this.eventHub.emit("show-msg",this.language.data[o.message]):this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},beforeUnmount(){this.item.id===this.selectedItem.id&&this.$emit("item-select",this.$parent.$props.item)}};Ga.render=qa,Ga.__scopeId="data-v-ded029e6";const Ya=Ga,Za=bt("data-v-769bc6bf");wt("data-v-769bc6bf");const Qa={class:"decor-iv"},Xa={class:"row m-0"},es={class:"col"},ts={key:0,class:"dropdown"},ns={class:"btn-sm btn-outline-primary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},as={class:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton"},ss={key:1,class:"dropdown-divider"},os={class:"row m-0"},is={class:"col m-2"},rs=un("br",null,null,-1),ls=un("br",null,null,-1);yt();const cs=Za(((e,t,n,a,s,o)=>{const i=zt("add-dlg"),r=zt("rename-dlg"),l=zt("add-note"),c=zt("add-pwd"),u=zt("note-view"),h=zt("pwd-view");return nn(),sn("div",Qa,[un("div",Xa,[un("div",es,["RW"===n.item.access?(nn(),sn("div",ts,[un("button",ns,d(n.item.name),1),un("div",as,[un("a",{class:"dropdown-item",onClick:t[1]||(t[1]=e=>s.showAddDlg=!0)},d(s.language.data.iv1),1),"root"!==n.item.name?(nn(),sn("a",{key:0,class:"dropdown-item",onClick:t[2]||(t[2]=e=>s.showRenameDlg=!0)},d(s.language.data.iv4),1)):gn("v-if",!0),un("a",{class:"dropdown-item",onClick:t[3]||(t[3]=e=>s.showAddNoteDlg=!0)},d(s.language.data.iv5),1),un("a",{class:"dropdown-item",onClick:t[4]||(t[4]=e=>s.showAddPwdDlg=!0)},d(s.language.data.iv11),1),"root"!==n.item.name?(nn(),sn("div",ss)):gn("v-if",!0),"root"!==n.item.name?(nn(),sn("span",{key:2,title:n.item.children.length>0&&s.language.data.iv3,class:{"cursor-stop":n.item.children.length>0}},[un("a",{class:["dropdown-item text-danger",{disabled:(void 0).item.children.length>0||"root"===n.item.name}],onClick:t[5]||(t[5]=(...e)=>o.deleteContainer&&o.deleteContainer(...e))},d(s.language.data.iv2),3)],10,["title"])):gn("v-if",!0),gn("                        TODO access settings")])])):gn("v-if",!0)])]),un("div",os,[un("div",is,[s.showAddDlg?(nn(),sn(i,{key:0,item:n.item,onCloseDlg:t[6]||(t[6]=e=>s.showAddDlg=!1)},null,8,["item"])):gn("v-if",!0),s.showRenameDlg?(nn(),sn(r,{key:1,item:n.item,onCloseDlg:t[7]||(t[7]=e=>s.showRenameDlg=!1)},null,8,["item"])):gn("v-if",!0),s.showAddNoteDlg?(nn(),sn(l,{key:2,item:n.item,onCloseDlg:t[8]||(t[8]=e=>s.showAddNoteDlg=!1)},null,8,["item"])):gn("v-if",!0),s.showAddPwdDlg?(nn(),sn(c,{key:3,item:n.item,onCloseDlg:t[9]||(t[9]=e=>s.showAddPwdDlg=!1)},null,8,["item"])):gn("v-if",!0),mn(" "+d(s.language.data.iv7)+" ",1),rs,(nn(!0),sn(Zt,null,Sn(n.item.notes,(e=>(nn(),sn(u,{note:e,access:n.item.access,key:"N"+e.id},null,8,["note","access"])))),128)),mn(" "+d(s.language.data.iv8)+" ",1),ls,(nn(!0),sn(Zt,null,Sn(n.item.passwords,(e=>(nn(),sn(h,{pwd:e,access:n.item.access,key:"P"+e.id},null,8,["pwd","access"])))),128))])])])})),ds=bt("data-v-8ef871e2")(((e,t,n,a,s,o)=>(nn(),sn("div",null,[Bt(un("input",{class:"form-control-sm","onUpdate:modelValue":t[1]||(t[1]=e=>s.name=e)},null,512),[[oa,s.name]]),un("button",{class:"btn btn-sm btn-outline-success",disabled:0===s.name.length,onClick:t[2]||(t[2]=(...e)=>o.addContainer&&o.addContainer(...e))},"✓ ",8,["disabled"]),un("button",{class:"btn btn-sm btn-outline-danger",onClick:t[3]||(t[3]=t=>e.$emit("close-dlg"))},"Χ")])))),us={name:"addDlg",props:{item:Object},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,name:""}},methods:{async addContainer(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,parent:this.item.id,name:this.name}),n=await $.ajax({url:"/container/add",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message?this.eventHub.emit("show-msg",this.language.data[a.message]):(this.$emit("close-dlg"),this.eventHub.emit("update-tree"))}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}}};us.render=ds,us.__scopeId="data-v-8ef871e2";const hs=us,ms=bt("data-v-2c43021b")(((e,t,n,a,s,o)=>(nn(),sn("div",null,[Bt(un("input",{class:"form-control-sm","onUpdate:modelValue":t[1]||(t[1]=e=>s.name=e)},null,512),[[oa,s.name]]),un("button",{class:"btn btn-sm btn-outline-success",disabled:0===s.name.length,onClick:t[2]||(t[2]=(...e)=>o.renameContainer&&o.renameContainer(...e))},"✓ ",8,["disabled"]),un("button",{class:"btn btn-sm btn-outline-danger",onClick:t[3]||(t[3]=t=>e.$emit("close-dlg"))},"Χ")])))),gs={name:"renameDlg",props:{item:Object},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,name:""}},methods:{async renameContainer(){if(this.eventHub.emit("show-msg",""),confirm(this.language.data.iv4+' "'+this.item.name+'" ?')&&"root"!==this.item.name)try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,item:this.item.id,name:this.name}),n=await $.ajax({url:"/container/rename",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message?this.eventHub.emit("show-msg",this.language.data[a.message]):(this.$emit("close-dlg"),this.eventHub.emit("update-tree"))}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},mounted(){this.name=this.item.name}};gs.render=ms,gs.__scopeId="data-v-2c43021b";const ps=gs,vs=bt("data-v-9b848bd4");wt("data-v-9b848bd4");const fs={class:"row"},ws={class:"col"},ys={class:"row"},bs={class:"col"},ks={class:"row"},Ps={class:"col"};yt();const _s=vs(((e,t,n,a,s,o)=>(nn(),sn("div",null,[un("div",fs,[un("div",ws,[un("button",{class:"btn btn-sm btn-outline-success",disabled:0===s.name.length,onClick:t[1]||(t[1]=(...e)=>o.addNote&&o.addNote(...e))},"✓ ",8,["disabled"]),un("button",{class:"btn btn-sm btn-outline-danger",onClick:t[2]||(t[2]=t=>e.$emit("close-dlg"))},"Χ")])]),un("div",ys,[un("div",bs,[Bt(un("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>s.name=e),placeholder:s.language.data.iv6},null,8,["placeholder"]),[[oa,s.name]])])]),un("div",ks,[un("div",Ps,[Bt(un("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":t[4]||(t[4]=e=>s.text=e)},null,512),[[oa,s.text]])])])])))),Ts={name:"addNoteDlg",props:{item:Object},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,name:"",text:""}},methods:{async addNote(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,parent:this.item.id,name:this.name,text:this.text}),n=await $.ajax({url:"/container/addNote",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message?this.eventHub.emit("show-msg",this.language.data[a.message]):this.$emit("close-dlg"),this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}}};Ts.render=_s,Ts.__scopeId="data-v-9b848bd4";const Cs=Ts,Ss=bt("data-v-8f514088");wt("data-v-8f514088");const $s={class:"decor"};yt();const xs=Ss(((e,t,n,a,s,o)=>(nn(),sn("div",null,[un("div",$s,[mn(" 🔒   "+d(n.note.name)+"   ",1),un("span",{class:"btn-dc",onClick:t[1]||(t[1]=(...e)=>o.toggle&&o.toggle(...e)),title:s.language.data.cm1},"👁",8,["title"]),Bt(un("span",{class:"btn-dc",title:s.language.data.cm2,onClick:t[2]||(t[2]=e=>s.edit=!0)},"🖉",8,["title"]),[[ma,s.show&&"RW"===n.access]]),Bt(un("span",{class:"btn-dc",title:s.language.data.cm3,onClick:t[3]||(t[3]=(...e)=>o.save&&o.save(...e))},"✅",8,["title"]),[[ma,s.show&&"RW"===n.access&&s.edit]]),Bt(un("span",{class:"btn-dc",title:s.language.data.cm4,onClick:t[4]||(t[4]=(...e)=>o.cancel&&o.cancel(...e))},"❌",8,["title"]),[[ma,s.show&&"RW"===n.access&&s.edit]]),Bt(un("span",{class:"btn-dc float-right",title:s.language.data.cm5,onClick:t[5]||(t[5]=(...e)=>o.remove&&o.remove(...e))},"🗑",8,["title"]),[[ma,"RW"===n.access]])]),Bt(un("input",{class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>s.name=e)},null,512),[[ma,s.show&&s.edit],[oa,s.name]]),Bt(un("textarea",{class:"form-control",rows:"4",readonly:!s.edit,"onUpdate:modelValue":t[7]||(t[7]=e=>s.text=e)},null,8,["readonly"]),[[ma,s.show],[oa,s.text]])])))),Os={name:"noteView",props:{note:Object,access:String},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,show:!1,edit:!1,name:"",text:""}},methods:{toggle(){this.show?(this.show=!1,this.text="",this.edit=!1,this.name=this.note.name):(this.loadNote(),this.show=!0)},async loadNote(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,note:this.note.id}),n=await $.ajax({url:"/container/getNote",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);this.text=a.message}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},async save(){if(this.name&&confirm(this.language.data.iv9)){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,note:this.note.id,name:this.name,text:this.text}),n=await $.ajax({url:"/container/editNote",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message&&this.eventHub.emit("show-msg",this.language.data[a.message]),this.edit=!1,this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},cancel(){this.edit=!1,this.name=this.note.name,this.loadNote()},async remove(){if(this.name&&confirm(this.language.data.iv10+this.note.name+"?")){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,note:this.note.id}),n=await $.ajax({url:"/container/removeNote",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message&&this.eventHub.emit("show-msg",this.language.data[a.message]),this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}}},mounted(){this.name=this.note.name}};Os.render=xs,Os.__scopeId="data-v-8f514088";const Hs=Os,Es=bt("data-v-f44497e8");wt("data-v-f44497e8");const Ns={class:"row"},As={class:"col"},Is={class:"row"},Ds={class:"col"},js={class:"row"},Ls={class:"col"},Us={class:"row"},Vs={class:"col"},Rs={class:"row"},Fs={class:"col"};yt();const Bs=Es(((e,t,n,a,s,o)=>(nn(),sn("div",null,[un("div",Ns,[un("div",As,[un("button",{class:"btn btn-sm btn-outline-success",disabled:0===s.name.length,onClick:t[1]||(t[1]=(...e)=>o.addPasswd&&o.addPasswd(...e))},"✓ ",8,["disabled"]),un("button",{class:"btn btn-sm btn-outline-danger",onClick:t[2]||(t[2]=t=>e.$emit("close-dlg"))},"Χ")])]),un("div",Is,[un("div",Ds,[Bt(un("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>s.name=e),placeholder:s.language.data.iv6},null,8,["placeholder"]),[[oa,s.name]])])]),un("div",js,[un("div",Ls,[Bt(un("input",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.login=e),placeholder:s.language.data.lf1},null,8,["placeholder"]),[[oa,s.login]])])]),un("div",Us,[un("div",Vs,[Bt(un("input",{class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>s.pass=e),placeholder:s.language.data.lf2},null,8,["placeholder"]),[[oa,s.pass]])])]),un("div",Rs,[un("div",Fs,[Bt(un("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":t[6]||(t[6]=e=>s.note=e)},null,512),[[oa,s.note]])])])])))),Ms={name:"addPwdDlg",props:{item:Object},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,name:"",login:"",pass:"",note:""}},methods:{async addPasswd(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,parent:this.item.id,name:this.name,login:this.login,pass:this.pass,note:this.note}),n=await $.ajax({url:"/container/addPasswd",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message?this.eventHub.emit("show-msg",this.language.data[a.message]):this.$emit("close-dlg"),this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}}};Ms.render=Bs,Ms.__scopeId="data-v-f44497e8";const Ks=Ms,Ws=bt("data-v-6b610aee");wt("data-v-6b610aee");const zs={class:"decor"},Js={style:{display:"flex"}};yt();const qs=Ws(((e,t,n,a,s,o)=>(nn(),sn("div",null,[un("div",zs,[mn(" 🔒   "+d(n.pwd.name)+"   ",1),un("span",{class:"btn-dc",onClick:t[1]||(t[1]=(...e)=>o.toggle&&o.toggle(...e)),title:s.language.data.cm1},"👁",8,["title"]),Bt(un("span",{class:"btn-dc",title:s.language.data.cm2,onClick:t[2]||(t[2]=e=>s.edit=!0)},"🖉",8,["title"]),[[ma,s.show&&"RW"===n.access]]),Bt(un("span",{class:"btn-dc",title:s.language.data.cm3,onClick:t[3]||(t[3]=(...e)=>o.save&&o.save(...e))},"✅",8,["title"]),[[ma,s.show&&"RW"===n.access&&s.edit]]),Bt(un("span",{class:"btn-dc",title:s.language.data.cm4,onClick:t[4]||(t[4]=(...e)=>o.cancel&&o.cancel(...e))},"❌",8,["title"]),[[ma,s.show&&"RW"===n.access&&s.edit]]),Bt(un("span",{class:"btn-dc float-right",title:s.language.data.cm5,onClick:t[5]||(t[5]=(...e)=>o.remove&&o.remove(...e))},"🗑",8,["title"]),[[ma,"RW"===n.access]])]),Bt(un("input",{class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>s.name=e)},null,512),[[ma,s.show&&s.edit],[oa,s.name]]),Bt(un("input",{class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>s.login=e),readonly:!s.edit},null,8,["readonly"]),[[ma,s.show],[oa,s.login]]),Bt(un("div",Js,[Bt(un("div",{class:"btn-st fs",onClick:t[8]||(t[8]=(...e)=>o.loadPwdBody&&o.loadPwdBody(...e)),title:s.language.data.cm1},"👁",8,["title"]),[[ma,!s.edit]]),Bt(un("div",{class:"btn-st",title:s.language.data.cm6,onClick:t[9]||(t[9]=(...e)=>o.pwdToClipboard&&o.pwdToClipboard(...e))},"📋",8,["title"]),[[ma,!s.edit]]),Bt(un("input",{class:"form-control er","onUpdate:modelValue":t[10]||(t[10]=e=>s.pass=e),readonly:!s.edit,placeholder:"******"},null,8,["readonly"]),[[oa,s.pass]])],512),[[ma,s.show]]),Bt(un("textarea",{class:"form-control",rows:"4",readonly:!s.edit,"onUpdate:modelValue":t[11]||(t[11]=e=>s.note=e)},null,8,["readonly"]),[[ma,s.show],[oa,s.note]])])))),Gs={name:"pwdView",props:{pwd:Object,access:String},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,show:!1,edit:!1,name:"",login:"",pass:"",note:""}},methods:{toggle(){this.show?(this.show=!1,this.edit=!1,this.name=this.pwd.name,this.login="",this.pass="",this.note=""):(this.loadPwdEnv(),this.show=!0)},async loadPwdEnv(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwd:this.pwd.id}),n=await $.ajax({url:"/container/getPwdEnv",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);this.login=a.login,this.note=a.note}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},async loadPwdBody(){if(this.pass)this.pass="";else{this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwd:this.pwd.id}),n=await $.ajax({url:"/container/getPwdBody",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);this.pass=a.password,setTimeout(this.clearPwd,1e4)}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},async pwdToClipboard(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwd:this.pwd.id}),n=await $.ajax({url:"/container/getPwdBody",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);navigator.clipboard.writeText(a.password)}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},async save(){if(this.name&&confirm(this.language.data.cm3+" "+this.pwd.name+"?")){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwd:this.pwd.id,name:this.name,login:this.login,pass:this.pass,note:this.note}),n=await $.ajax({url:"/container/editPassword",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message&&this.eventHub.emit("show-msg",this.language.data[a.message]),this.edit=!1,this.pass="",this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},cancel(){this.edit=!1,this.name=this.pwd.name,this.pass="",this.loadPwdEnv()},async remove(){if(this.name&&confirm(this.language.data.cm5+" "+this.pwd.name+"?")){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwd:this.pwd.id}),n=await $.ajax({url:"/container/removePassword",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message&&this.eventHub.emit("show-msg",this.language.data[a.message]),this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},clearPwd(){this.edit||(this.pass="")}},mounted(){this.name=this.pwd.name}};Gs.render=qs,Gs.__scopeId="data-v-6b610aee";const Ys={name:"itemView",components:{"add-dlg":hs,"rename-dlg":ps,"add-note":Cs,"note-view":Hs,"add-pwd":Ks,"pwd-view":Gs},props:{item:Object},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,showAddDlg:!1,showRenameDlg:!1,showAddNoteDlg:!1,showAddPwdDlg:!1}},watch:{item(){this.showAddDlg=!1,this.showRenameDlg=!1,this.showAddNoteDlg=!1,this.showAddPwdDlg=!1}},methods:{async deleteContainer(){if(this.eventHub.emit("show-msg",""),0===this.item.children.length&&"root"!==this.item.name&&confirm(this.language.data.iv2+' "'+this.item.name+'" ?'))try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,item:this.item.id}),n=await $.ajax({url:"/container/delete",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message?this.eventHub.emit("show-msg",this.language.data[a.message]):this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}}};Ys.render=cs,Ys.__scopeId="data-v-769bc6bf";const Zs=Ys,Qs=bt("data-v-f0d3f834");wt("data-v-f0d3f834");const Xs={class:"decor-iv"},eo={class:"row m-0"},to={class:"col"},no={class:"row m-0"},ao={class:"col"};yt();const so=Qs(((e,t,n,a,s,o)=>(nn(),sn("div",Xs,[un("div",eo,[un("div",to,[un("button",{class:["btn btn-sm btn-outline-secondary",{selected:"containers"===s.currentTab}],onClick:t[1]||(t[1]=e=>s.currentTab="containers")},d(s.language.data.di2),3),un("button",{class:["btn btn-sm btn-outline-secondary",{selected:"items"===s.currentTab}],onClick:t[2]||(t[2]=e=>s.currentTab="items")},d(s.language.data.di3),3)])]),un("div",no,[un("div",ao,[(nn(),sn(qt(s.currentTab),{item:n.item},null,8,["item"]))])])])))),oo=bt("data-v-37bcbfac")(((e,t,n,a,s,o)=>(nn(),sn("div",null," Cont ")))),io={name:"containers"};io.render=oo,io.__scopeId="data-v-37bcbfac";const ro=io,lo=bt("data-v-ca0737d4");wt("data-v-ca0737d4");const co={class:"table table-bordered table-striped table-sm"},uo={class:"tab-header-area"},ho=un("th",null,"view",-1),mo=un("th",null,"created",-1),go=un("th",null,"created by",-1),po=un("th",null,"edited",-1),vo=un("th",null,"edited by",-1),fo=un("th",null,"deleted",-1),wo=un("th",null,"deleted by",-1),yo=un("th",null,null,-1),bo=un("th",null,null,-1);yt();const ko=lo(((e,t,n,a,s,o)=>{const i=zt("note-view"),r=zt("pwd-view");return nn(),sn("div",null,[un("div",{class:"decor",onClick:t[1]||(t[1]=e=>s.showNotes=!s.showNotes)},d(s.items.notes.length)+" "+d(s.language.data.iv7),1),Bt(un("div",null,[un("table",co,[un("thead",uo,[un("tr",null,[un("th",null,[un("input",{type:"checkbox",onChange:t[2]||(t[2]=e=>o.checkToggle(e.target.checked,"notes"))},null,32)]),gn("                    TODO move to lang"),ho,un("th",null,[un("button",{class:"btn btn-sm btn-link",onClick:t[3]||(t[3]=e=>o.setNotesSort("name"))},"name")]),mo,go,po,vo,fo,wo,yo,bo])]),un("tbody",null,[(nn(!0),sn(Zt,null,Sn(s.items.notes,(e=>(nn(),sn(i,{note:e,onUpdateItems:o.getItems,key:"DN"+e.id},null,8,["note","onUpdateItems"])))),128))])])],512),[[ma,s.showNotes]]),un("div",{class:"decor",onClick:t[4]||(t[4]=e=>s.showPass=!s.showPass)},d(s.items.passwords.length)+" "+d(s.language.data.iv8),1),Bt(un("div",null,[(nn(!0),sn(Zt,null,Sn(s.items.passwords,(e=>(nn(),sn(r,{pwd:e,onUpdateItems:o.getItems,key:"DP"+e.id},null,8,["pwd","onUpdateItems"])))),128))],512),[[ma,s.showPass]])])})),Po=bt("data-v-3fc8e6b6");wt("data-v-3fc8e6b6");const _o={colspan:"15"};yt();const To=Po(((e,t,n,a,s,o)=>(nn(),sn(Zt,null,[un("tr",null,[un("td",null,[Bt(un("input",{type:"checkbox",value:n.note.id,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$parent.$data.checkedNotes=t)},null,8,["value"]),[[ia,e.$parent.$data.checkedNotes]])]),un("td",null,[un("span",{class:"btn-dc",onClick:t[2]||(t[2]=(...e)=>o.toggle&&o.toggle(...e)),title:s.language.data.cm1},"👁",8,["title"])]),un("td",null,d(n.note.name),1),un("td",null,d(n.note.createdDate),1),un("td",null,d(n.note.createdBy),1),un("td",null,d(n.note.editedDate),1),un("td",null,d(n.note.editedBy),1),un("td",null,d(n.note.deletedDate),1),un("td",null,d(n.note.deletedBy),1),un("td",null,[un("div",{class:"btn-dc float-right text-success",title:s.language.data.cm7,onClick:t[3]||(t[3]=(...e)=>o.restore&&o.restore(...e))},"↺",8,["title"])]),un("td",null,[un("span",{class:"btn-dc float-right",title:s.language.data.cm5,onClick:t[4]||(t[4]=(...e)=>o.remove&&o.remove(...e))},"🗑",8,["title"])])]),Bt(un("tr",null,[un("td",_o,[Bt(un("textarea",{class:"form-control",rows:"4",readonly:"","onUpdate:modelValue":t[5]||(t[5]=e=>s.text=e)},null,512),[[oa,s.text]])])],512),[[ma,s.show]])],64)))),Co={name:"noteView",props:{note:Object},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,show:!1,text:""}},methods:{toggle(){this.show?(this.show=!1,this.text=""):(this.loadNote(),this.show=!0)},async loadNote(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,note:this.note.id}),n=await $.ajax({url:"/container/getNote",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);this.text=a.message}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},async remove(){if(confirm(this.language.data.iv10+this.note.name+"?")){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,note:this.note.id}),n=await $.ajax({url:"/container/removeNote",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message&&this.eventHub.emit("show-msg",this.language.data[a.message]),this.$emit("update-items")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},async restore(){if(confirm(this.language.data.cm7+" "+this.note.name+"?")){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,noteId:this.note.id}),n=await $.ajax({url:"/container/restoreNote",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message&&this.eventHub.emit("show-msg",this.language.data[a.message]),this.$emit("update-items"),this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}}}};Co.render=To,Co.__scopeId="data-v-3fc8e6b6";const So=Co,$o=bt("data-v-50e4d9c1");wt("data-v-50e4d9c1");const xo={class:"decor"},Oo={style:{display:"flex"}};yt();const Ho=$o(((e,t,n,a,s,o)=>(nn(),sn("div",null,[un("div",xo,[mn(d(n.pwd.name)+"   ",1),un("span",{class:"btn-dc",onClick:t[1]||(t[1]=(...e)=>o.toggle&&o.toggle(...e)),title:s.language.data.cm1},"👁",8,["title"]),un("span",{class:"btn-dc float-right",title:s.language.data.cm5,onClick:t[2]||(t[2]=(...e)=>o.remove&&o.remove(...e))},"🗑",8,["title"]),un("div",{class:"btn-dc float-right text-success",title:s.language.data.cm7,onClick:t[3]||(t[3]=(...e)=>o.restore&&o.restore(...e))},"↺",8,["title"])]),Bt(un("input",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.login=e),readonly:""},null,512),[[ma,s.show],[oa,s.login]]),Bt(un("div",Oo,[un("div",{class:"btn-st fs",onClick:t[5]||(t[5]=(...e)=>o.loadPwdBody&&o.loadPwdBody(...e)),title:s.language.data.cm1},"👁",8,["title"]),un("div",{class:"btn-st",title:s.language.data.cm6,onClick:t[6]||(t[6]=(...e)=>o.pwdToClipboard&&o.pwdToClipboard(...e))},"📋",8,["title"]),Bt(un("input",{class:"form-control er","onUpdate:modelValue":t[7]||(t[7]=e=>s.pass=e),readonly:"",placeholder:"******"},null,512),[[oa,s.pass]])],512),[[ma,s.show]]),Bt(un("textarea",{class:"form-control",rows:"4",readonly:"","onUpdate:modelValue":t[8]||(t[8]=e=>s.note=e)},null,512),[[ma,s.show],[oa,s.note]])])))),Eo={name:"pwdView",props:{pwd:Object},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,show:!1,login:"",pass:"",note:""}},methods:{toggle(){this.show?(this.show=!1,this.login="",this.pass="",this.note=""):(this.loadPwdEnv(),this.show=!0)},async loadPwdEnv(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwd:this.pwd.id}),n=await $.ajax({url:"/container/getPwdEnv",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);this.login=a.login,this.note=a.note}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},async loadPwdBody(){if(this.pass)this.pass="";else{this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwd:this.pwd.id}),n=await $.ajax({url:"/container/getPwdBody",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);this.pass=a.password,setTimeout(this.clearPwd,1e4)}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},async pwdToClipboard(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwd:this.pwd.id}),n=await $.ajax({url:"/container/getPwdBody",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);navigator.clipboard.writeText(a.password)}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},async remove(){if(confirm(this.language.data.cm5+" "+this.pwd.name+"?")){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwd:this.pwd.id}),n=await $.ajax({url:"/container/removePassword",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message&&this.eventHub.emit("show-msg",this.language.data[a.message]),this.$emit("update-items")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},async restore(){if(confirm(this.language.data.cm7+" "+this.pwd.name+"?")){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,pwdId:this.pwd.id}),n=await $.ajax({url:"/container/restorePasswd",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message&&this.eventHub.emit("show-msg",this.language.data[a.message]),this.$emit("update-items"),this.eventHub.emit("update-tree")}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},clearPwd(){this.pass=""}}};Eo.render=Ho,Eo.__scopeId="data-v-50e4d9c1";const No=Eo,Ao=class{constructor(e,t){this.field=e,this.direction=t}toString(){return this.field+","+this.direction}setField(e){this.field===e?this.direction="desc"===this.direction?"asc":"desc":(this.field=e,this.direction="desc")}},Io={name:"items",components:{noteView:So,pwdView:No},props:{item:Object},data(){return{language:this.$root.$data.language,tokenProvider:this.$root.$data.tokenProvider,items:{notes:[],passwords:[]},showNotes:!0,showPass:!0,sortNotes:new Ao("name","desc"),sortPwd:new Ao("name","desc"),checkedNotes:[]}},watch:{"item.id"(){this.getItems()}},methods:{async getItems(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,item:this.item.id,sortNotes:this.sortNotes.toString(),sortPwd:this.sortPwd.toString()}),n=await $.ajax({url:"/container/getDeletedItems",method:"POST",data:t});this.items=this.cryptoProvider.decrypt(n)}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},checkToggle(e,t){"notes"===t&&(this.checkedNotes=[],e&&this.items.notes.forEach((e=>{this.checkedNotes.push(e.id)})))},setNotesSort(e){this.sortNotes.setField(e),this.getItems()},setPwdSort(e){}},mounted(){this.getItems()}};Io.render=ko,Io.__scopeId="data-v-ca0737d4";const Do={name:"trashView",components:{containers:ro,items:Io},props:{item:Object},data(){return{language:this.$root.$data.language,currentTab:"items"}}};Do.render=so,Do.__scopeId="data-v-f0d3f834";const jo={name:"mainTab",components:{"tree-item":Ya,"item-view":Zs,"trash-view":Do},data(){return{tokenProvider:this.$root.$data.tokenProvider,language:this.$root.$data.language,tree:{},selectedItem:{},trash:!1}},methods:{async updateTree(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e}),n=await $.ajax({url:"/container/getTree",method:"POST",data:t});this.tree=this.cryptoProvider.decrypt(n)}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},selectItem(e){this.selectedItem=e},toggleTrash(e){this.trash="mainTab"!==e||!this.trash}},watch:{"tokenProvider.token"(e,t){null===t&&null!==e&&this.updateTree()},tree(e,t){void 0===t.name&&(this.selectedItem=this.tree)}},created(){this.eventHub.on("update-tree",this.updateTree),this.eventHub.on("toggle-trash",this.toggleTrash)},beforeUnmount(){this.eventHub.off("update-tree"),this.eventHub.off("toggle-trash")}};jo.render=Ja,jo.__scopeId="data-v-42d26568";const Lo=jo,Uo=bt("data-v-6c196206")(((e,t,n,a,s,o)=>(nn(),sn("div",null," User Settings ")))),Vo={name:"userSettings"};Vo.render=Uo,Vo.__scopeId="data-v-6c196206";const Ro=Vo,Fo=bt("data-v-749558a4");wt("data-v-749558a4");const Bo={class:"form-bg pl-3 pr-3 pt-1"},Mo={class:"row"},Ko={class:"col"},Wo={class:"row"},zo={class:"col"};yt();const Jo=Fo(((e,t,n,a,s,o)=>(nn(),sn("div",Bo,[un("div",Mo,[un("div",Ko,[un("button",{class:["btn btn-sm btn-outline-primary",{selected:"users"===s.currentTab}],onClick:t[1]||(t[1]=e=>s.currentTab="users")},d(s.language.data.us1),3),un("button",{class:["btn btn-sm btn-outline-primary",{selected:"dbSettings"===s.currentTab}],onClick:t[2]||(t[2]=e=>s.currentTab="dbSettings")},d(s.language.data.db1),3)])]),un("div",Wo,[un("div",zo,[(nn(),sn(qt(s.currentTab)))])])])))),qo=bt("data-v-15b179bc");wt("data-v-15b179bc");const Go={key:0},Yo=un("br",null,null,-1),Zo={key:1};yt();const Qo=qo(((e,t,n,a,s,o)=>(nn(),sn("div",null,[un("div",null,d(s.language.data.db2)+" "+d(o.statusTxt),1),"NEW_DB"===s.status?(nn(),sn("div",Go,[un("button",{class:"btn btn-sm btn-warning",onClick:t[1]||(t[1]=(...e)=>o.generate&&o.generate(...e)),disabled:s.key},d(s.language.data.db6),9,["disabled"]),Yo,mn(" ⚠ "+d(s.language.data.db7)+" ",1),Bt(un("textarea",{class:"form-control",readonly:"",rows:"3","onUpdate:modelValue":t[2]||(t[2]=e=>s.key=e)},null,512),[[oa,s.key]]),un("span",{innerHTML:s.language.data.db8},null,8,["innerHTML"])])):gn("v-if",!0),"NEED_KEY"===s.status?(nn(),sn("div",Zo,[Bt(un("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":t[3]||(t[3]=e=>s.key=e)},null,512),[[oa,s.key]]),un("button",{class:"btn btn-sm btn-warning",onClick:t[4]||(t[4]=(...e)=>o.sendKey&&o.sendKey(...e)),disabled:!s.key},d(s.language.data.db9),9,["disabled"])])):gn("v-if",!0)])))),Xo={name:"dbSettings",data(){return{tokenProvider:this.$root.$data.tokenProvider,language:this.$root.$data.language,status:null,key:null}},computed:{statusTxt(){switch(this.status){case"OK":return this.language.data.db3;case"NEED_KEY":return this.language.data.db4;case"NEW_DB":return this.language.data.db5}}},methods:{async getStatus(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e}),n=await $.ajax({url:"/settings/dbStatus",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);this.status=a.message}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},async generate(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e}),n=await $.ajax({url:"/settings/keyGen",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);this.key=a.message}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}},async sendKey(){this.eventHub.emit("show-msg","");try{const e=await this.tokenProvider.getToken(),t=await this.cryptoProvider.encrypt({token:e,key:this.key}),n=await $.ajax({url:"/settings/setKey",method:"POST",data:t}),a=this.cryptoProvider.decrypt(n);a.message?this.eventHub.emit("show-msg",this.language.data[a.message]):this.getStatus()}catch(e){this.eventHub.emit("show-msg",this.errorParser(e))}}},mounted(){this.getStatus()}};Xo.render=Qo,Xo.__scopeId="data-v-15b179bc";const ei=Xo,ti=bt("data-v-24319ce4")(((e,t,n,a,s,o)=>(nn(),sn("div",null," Users ")))),ni={name:"users"};ni.render=ti,ni.__scopeId="data-v-24319ce4";const ai={name:"adminSettings",components:{dbSettings:ei,users:ni},data(){return{language:this.$root.$data.language,currentTab:""}}};ai.render=Jo,ai.__scopeId="data-v-749558a4";const si={name:"mainBlock",components:{languageSelector:Da,userMenu:Ba,mainTab:Lo,userSettings:Ro,adminSettings:ai},data(){return{tokenProvider:this.$root.$data.tokenProvider,language:this.$root.$data.language,currentTab:"mainTab",message:""}},methods:{setTab(e){this.currentTab=e},showMsg(e){this.message=e},showTrash(){this.eventHub.emit("toggle-trash",this.currentTab),this.setTab("mainTab")}},created(){this.eventHub.on("show-msg",this.showMsg)},beforeUnmount(){this.eventHub.off("show-msg")}};si.render=Oa,si.__scopeId="data-v-e508c6a4";const oi=si,ii=bt("data-v-0279f295");wt("data-v-0279f295");const ri={key:0,class:"l-modal"},li={class:"l-modal-body"},ci={class:"form-group"},di={class:"form-group"},ui={class:"container"},hi={class:"row justify-content-md-center"};yt();const mi=ii(((e,t,n,a,s,o)=>{return null===s.tokenProvider.token?(nn(),sn("div",ri,[un("div",li,[s.message?(nn(),sn("div",{key:0,class:"alert alert-danger",onClick:t[1]||(t[1]=e=>s.message="")},d(s.message),1)):gn("v-if",!0),un("div",ci,[Bt(un("input",{type:"text",class:"form-control",placeholder:s.language.data.lf1,"onUpdate:modelValue":t[2]||(t[2]=e=>s.login=e)},null,8,["placeholder"]),[[oa,s.login]])]),un("div",di,[Bt(un("input",{type:"password",class:"form-control",placeholder:s.language.data.lf2,"onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),onKeypress:t[4]||(t[4]=(i=(...e)=>o.doLogin&&o.doLogin(...e),r=["enter"],e=>{if(!("key"in e))return;const t=L(e.key);return r.some((e=>e===t||ha[e]===t))?i(e):void 0}))},null,40,["placeholder"]),[[oa,s.password]])]),un("div",ui,[un("div",hi,[un("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=(...e)=>o.doLogin&&o.doLogin(...e))},d(s.language.data.lf3),1)])])])])):gn("v-if",!0);var i,r})),gi={name:"loginForm",data(){return{tokenProvider:this.$root.tokenProvider,language:this.$root.$data.language,message:"",login:"",password:""}},methods:{async doLogin(){if(this.login.length>1){this.message="";try{await this.tokenProvider.login(this.login,this.password)&&this.eventHub.emit("show-msg",this.language.data.lfe2)}catch(e){e.message?this.message=this.language.data[e.message]:this.message=this.errorParser(e)}finally{this.password=""}}}}};gi.render=mi,gi.__scopeId="data-v-0279f295";const pi=gi,vi={lifeTime:null,renewTime:null,token:null,userName:null,adminSettings:!1,async login(e,t){let n={login:"",password:""};n.login=e,n.password=t;const a=await this.cryptoProvider.encrypt(n),s=await $.ajax({url:"/user/login",method:"POST",data:a}),o=this.cryptoProvider.decrypt(s);if(o.message)throw new Error(o.message);return this.lifeTime=o.lifeTime,this.token=o.token,this.adminSettings=o.adminSettings,this.userName=e,this.renewTime=Date.now()+(o.lifeTime-Date.now())/2,o.systemClosed},logout(){this.token=null},async getToken(){if(null!==this.token&&Date.now()>this.renewTime&&Date.now()<this.lifeTime&&await this.renewToken(this.token),null===this.token||Date.now()>this.lifeTime)for(this.token=null;null===this.token;)await new Promise((e=>setTimeout(e,1e3)));return this.token},async renewToken(e){const t={token:e},n=await this.cryptoProvider.encrypt(t),a=await $.ajax({url:"/user/renewToken",method:"POST",data:{key:n.key,data:n.data}}),s=this.cryptoProvider.decrypt(a);this.lifeTime=s.lifeTime,this.token=s.token,this.adminSettings=s.adminSettings,this.renewTime=Date.now()+(s.lifeTime-Date.now())/2}},fi={serverKeyExpireDate:null,serverPublicKey:null,frontKeyPair:null,async encrypt(e){if(await this.checkKey(),this.serverPublicKey){e.publicKey=forge.pki.publicKeyToPem(this.frontKeyPair.publicKey);const t=forge.random.getBytesSync(32),n=forge.random.getBytesSync(16),a=forge.cipher.createCipher("AES-CBC",t);a.start({iv:n}),a.update(forge.util.createBuffer(JSON.stringify(e),"utf8")),a.finish();const s={key:forge.util.encode64(t),iv:forge.util.encode64(n)},o=forge.pki.publicKeyFromPem(this.serverPublicKey).encrypt(JSON.stringify(s));return{key:forge.util.encode64(o),data:forge.util.encode64(a.output.data)}}},decrypt(e){const t=forge.util.decode64(e.key),n=JSON.parse(this.frontKeyPair.privateKey.decrypt(t)),a=forge.util.decode64(n.key),s=forge.util.decode64(n.iv),o=forge.cipher.createDecipher("AES-CBC",a);return o.start({iv:s}),o.update(forge.util.createBuffer(forge.util.decode64(e.data))),o.finish(),JSON.parse(forge.util.decodeUtf8(o.output.data))},async checkKey(){(null===this.serverPublicKey||null===this.serverKeyExpireDate||this.serverKeyExpireDate<Date.now())&&await this.getPublicKey()},async getPublicKey(){const e=this;try{const t=await $.ajax({url:"/crypto/getKey"});e.serverPublicKey=t.keyPEM,e.serverKeyExpireDate=t.keyPairExpireDate}catch(e){console.log("Error getting public key "+e.responseJSON.status+" "+e.responseJSON.error+" "+e.responseJSON.message)}},init(){forge.pki.rsa.generateKeyPair({bits:2048,e:65537,workers:2},((e,t)=>{this.frontKeyPair=t}))}},wi=Vue.createApp({components:{MainBlock:oi,loginForm:pi},data:()=>({tokenProvider:vi,language:{name:"",data:{}},langLoadStatus:!1}),methods:{getPreferredLang(){const e=(document.cookie.match("lang=(.+?)(;|$)")||[])[1]||"";return""===e?navigator.language:e},loadLanguage(e){const t=this;$.getJSON("/language/"+e+".json",(e=>{t.language.name=e.name,t.language.data=e.data})).fail((e=>{404===e.status&&(t.langLoadStatus?console.log("Error loading language."):(t.langLoadStatus=!0,t.loadLanguage("en-US")))}))}},mounted(){this.loadLanguage(this.getPreferredLang())}});var yi;wi.use({install(e){e.cryptoProvider=fi}}),wi.use({install(e){e.errorParser=function(e){return e.responseJSON?"Error "+e.responseJSON.status+" "+e.responseJSON.error+" "+e.responseJSON.message:"Error "+e.status}}}),wi.config.globalProperties.eventHub={all:yi=yi||new Map,on:function(e,t){var n=yi.get(e);n&&n.push(t)||yi.set(e,[t])},off:function(e,t){var n=yi.get(e);n&&n.splice(n.indexOf(t)>>>0,1)},emit:function(e,t){(yi.get(e)||[]).slice().map((function(e){e(t)})),(yi.get("*")||[]).slice().map((function(n){n(e,t)}))}},wi.cryptoProvider.init(),wi.mount("#app")})();